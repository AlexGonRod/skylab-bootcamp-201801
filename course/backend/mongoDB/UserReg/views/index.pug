//- template.pug
extends base.pug

block content
   .main.container
    .row
      .col-md-6.col-md-offset-3
        h1.display-4.m-b-2 Sign Up
         // register form
        form(method='POST' action='/register')
          div.form-group
            label(for='name') Name:
            input#name.form-control(type='text', placeholder='first' name='name' value=obj.name required)
          div.form-group
            label(for='surname') Surname:
            input#surname.form-control(type='text', placeholder='last' name='surname' value=obj.surname required)
          div.form-group
            label(for='email') Email:
            input#email.form-control(type='email', placeholder='name@email.com' name='email' required)
          div.form-group
            label(for='pw') Password:
            input#pw.form-control(type='password' name='password' required)
          button.btn.btn-primary(type='submit') Sign up  
        h6 #{result}   

    if data.length
     .main.container
       .row
        .col-md-6
         h1.display-4.m-b-2 Listing
         // listing form
         each element in data
          li #{element.user + " " + element.surname}
            a(href='/edit/'+element._id) Edit
            //button.btn.btn-primary Edit
            a(href='/delete/'+element._id) Delete
            //button.btn.btn-primary(href="") 
             
          if _id == element._id
              form(method='POST' action='/update')
                div.form-group
                  label(for='newName') Name:
                  input#newName.form-control(type='text', placeholder='first' name='name' required)
                div.form-group
                  label(for='newSurname') Surname:
                  input#newSurname.form-control(type='text', placeholder='last' name='surname' required)
                
                input(type="hidden", value=element._id, name="id")
                button.btn.btn-primary(type='submit') Update
              h6 #{result2}
                        
            

            
